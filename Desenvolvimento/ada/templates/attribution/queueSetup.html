{#{% extends "staff/base.html" %}#}
{% load i18n %}
{% load static %}

{% block head %}
    <title>{% trans "Criar Fila" %}</title>
    <link href="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.13.4/rr-1.3.3/datatables.min.css" rel="stylesheet"/>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.13.4/rr-1.3.3/datatables.min.js"></script>
    {#<script src="{% static 'attribution/js/queueSetup.js' %}" data-lang={{LANGUAGE_CODE}}></script>#}
{% endblock %}

{% block body %}
    <h1>{% trans "Fila de professores" %}</h1>
        <h1 id="blockk-id" value="{{ data.blockk.registration_block_id }}" >
        {% blocktrans with name_block_text=data.blockk.name_block %}
            {{ name_block_text }}</h1>
        {% endblocktrans %}

    {% if data.campo != "" %}
    {% blocktrans with campo_text=data.campo text="Critério escolhido pelo administrador" %}
        <h3>{{ text }}: {{ campo_text }}</h3>
    {% endblocktrans %}
    {% endif %}

{#    <p>{% trans "Usuários da área" %}:</p>#}
{#        <select class="area-select">#}
{#          {% for area in data.areas %}#}
{#            {% blocktrans with name_area_text=area.name_area %}#}
{#            <option>{{ area.name_area }}</option>#}
{#            {% endblocktrans %}#}
{#          {% endfor %}#}
{#        </select>#}
{#    <button class="submit-btn">{% trans "Selecionar" %}</button>#}



    <div class="tabela">
        <table class="table table-striped table-bordered editable" id="queue">
            <thead>
                <tr>
                    <th scope="col">{% trans "Posição" %}</th>
                    <th scope="col">{% trans "Registro" %}</th>
                    <th scope="col">{% trans "Nome" %}</th>
                    <th scope="col">{% trans "Data de Nascimento" %}</th>
                    <th scope="col">{% trans "Data de Carreira" %}</th>
                    <th scope="col">{% trans "Data no Campus" %}</th>
                    <th scope="col">{% trans "Data como Professor" %}</th>
                    <th scope="col">{% trans "Data na Área" %}</th>
                    <th scope="col">{% trans "Data no Instituto" %}</th>
                    <th scope="col">{% trans "Diploma Pontuação" %}</th>
                </tr>
            </thead>
            <tbody>
            {% csrf_token %}

{% for user in data.resultados %}
    {% with counter=forloop.counter0 %}
        <tr>
            <td class="editable" data-column="position">{{ counter }}</td>
            {% if user.teacher %}
                <td>{{ user.teacher.registration_id }}</td>
                <td>{{ user.teacher.first_name }}</td>
                <td>{{ user.teacher.history.birth|date:"Y-m-d" }}</td>
                <td>{{ user.teacher.history.date_career|date:"Y-m-d" }}</td>
                <td>{{ user.teacher.history.date_campus|date:"Y-m-d" }}</td>
                <td>{{ user.teacher.history.date_professor|date:"Y-m-d" }}</td>
                <td>{{ user.teacher.history.date_area|date:"Y-m-d" }}</td>
                <td>{{ user.teacher.history.date_institute|date:"Y-m-d" }}</td>
            {% else %}
                <td>{{ user.registration_id }}</td>
                <td>{{ user.first_name }}</td>
                <td>{{ user.history.birth|date:"Y-m-d" }}</td>
                <td>{{ user.history.date_career|date:"Y-m-d" }}</td>
                <td>{{ user.history.date_campus|date:"Y-m-d" }}</td>
                <td>{{ user.history.date_professor|date:"Y-m-d" }}</td>
                <td>{{ user.history.date_area|date:"Y-m-d" }}</td>
                <td>{{ user.history.date_institute|date:"Y-m-d" }}</td>
            {% endif %}

            {% for userx in data.total_score %}
                {% if forloop.parentloop.counter0 == forloop.counter0 %}
                    <td>{{ userx.total_score }}</td>
                {% endif %}
            {% endfor %}
        </tr>
    {% endwith %}
{% endfor %}


{#            {% endif %}#}
            </tbody>
        </table>
        <button style="margin-top: 10px;" class="btn btn-success" id="enviar-tabela">{% trans "Enviar" %}</button>
    </div>


<script src="{% static 'attribution/js/queueSetup.js' %}" data-lang={{LANGUAGE_CODE}}></script>
{% endblock %}
